@model AviaSales.Models.Ticket

@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>

<div>
    <h4>Ticket</h4>
    <div class="form-group">
        <button class="btn btn-primary" onclick="createPDF('Ticket №@Model.TicketId')">Print ticket</button>
    </div>
    <div id="print">
        <hr />
        <dl class="row">
            <dt class="col-sm-2">
                Flight number
            </dt>
            <dd class="col-sm-10">
                @ViewBag.Flight.FlightNumber
            </dd>
            <dt class="col-sm-2">
                Departure Airport
            </dt>
            <dd class="col-sm-10">
                @ViewBag.Flight.DepartureAirport.Name
            </dd>
            <dt class="col-sm-2">
                Arrival Airport
            </dt>
            <dd class="col-sm-10">
                @ViewBag.Flight.ArrivalAirport.Name
            </dd>
            <dt class="col-sm-2">
                Departure date
            </dt>
            <dd class="col-sm-10">
                @ViewBag.Flight.DepartureDate
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.PurchaseDate)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.PurchaseDate)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.SeatNumber)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.SeatNumber)
            </dd>
            <dt class="col-sm-2">
                User name
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.User.Name)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.User.Email)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.User.Email)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.User.Telephone)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.User.Telephone)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Plane)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Plane.Name)
            </dd>
            <dt class="col-sm-2">
                @Html.DisplayNameFor(model => model.Class)
            </dt>
            <dd class="col-sm-10">
                @Html.DisplayFor(model => model.Class.Name)
            </dd>
        </dl>

        <div class="createPdfBlock">
            <a asp-action="Edit" asp-route-id="@Model.TicketId">Edit</a> |
            <a asp-action="Index">Back to List</a>
        </div>


        <h4>Food</h4>

        <table class="table">
            <thead>
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.TicketFoods.First().Food.Name)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.TicketFoods.First().Food.Cost)
                    </th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.TicketFoods)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Food.Name)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Food.Cost)
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>